<h3>CS140 Midterm Exam.  February 17, 2011.  James S. Plank</h3>
<font size=-1>

In all of these questions, when I use variables they will be of the following types:

<UL>
<LI> <b>i</b> is of type <b>int</b>.
<LI> <b>s</b> is of type <b>string</b>.
<LI> <b>d</b> is of type <b>double</b>.
<LI> <b>iss</b> is of type <b>istringstream</b>
<LI> <b>oss</b> is of type <b>ostringstream</b>
</UL>

If I give a code fragment, you may assume that it is properly defined within a <b>main()</b>
program, and it has all the requisite include statements.  In particular, there are no 
compilation problems with any of the programs or code snippets on this test.

<p>

<b>Question #1</b>: How do I read an integer on the command line?

<p><center><table border=0>
<td valign=center width=250>
<font size=-1>
<i>A</i>: <b>cin >> i;</b><br>
<i>B</i>: <b>i = argv[1];</b><br>
<i>C</i>: <b>iss = argv[1]; iss >> i;</b><br>
<i>D</i>: <b>s = argv[1]; i = s.atoi();</b><br>
<i>E</i>: <b>cin >> s; i = s.atoi();</b><br>
<i>F</i>: <b>oss.str(cin); oss >> i;</b><br>
</td><td valign=center width=250>
<font size=-1>
<i>G</i>: <b>iss.str(argv[1]); iss >> i;</b><br>
<i>H</i>: <b>cin >> iss; iss >> i;</b><br>
<i>I</i>: <b>cin >> oss; oss >> i;</b><br>
<i>J</i>: <b>oss.str(argv[1]); oss >> i;</b><br>
<i>K</i>: <b>oss = argv[1]; oss >> i;</b><br>
<i>L</i>: <b>iss.str(cin); iss >> i;</b><br>
</td>
</table></center><p>

<p>
<b>Question #2</b>: How do I read an integer from standard input?  Use
the same answers as for <b>Question #1</b>.

<p>
<b>Question #3</b>: Suppose I write a procedure <b>avg()</b> whose job is to average
a vector of integers.  Which of the following is the proper prototype for <b>avg()</b>?

<p><center><table border=0>
<td valign=center width=300>
<font size=-1>
<i>A</i>:<b>void avg(vector &lt;int&gt; &amp;v, int &amp;retval);</b><br>
<i>B</i>:<b>double avg(vector &lt;int&gt; &amp;v);</b><br>
<i>C</i>:<b>void avg(vector &lt;int&gt; &amp;v, double &amp;retval);</b><br>
<i>D</i>:<b>double avg(vector &lt;int&gt; v);</b><br>
</td><td valign=center width=300>
<font size=-1>
<i>E</i>:<b>int avg(vector &lt;int&gt; v);</b><br>
<i>F</i>:<b>int avg(vector &lt;int&gt; &amp;v);</b><br>
<i>G</i>:<b>void avg(vector &lt;int&gt; v, double &amp;retval);</b><br>
<i>H</i>:<b>void avg(vector &lt;int&gt; v, int &amp;retval);</b><br>
</td></table></center><p>
<p>
<b>Question #4</b>: Why should you declare data that is part of a class as <b>protected</b>
and methods as <b>public</b>?

<p><center><table border=0>
<td><font size=-1>
<i>A</i>: Because it makes the programs easier to read.<br>
<i>B</i>: Because the compiler won't allow it otherwise.<br>
<i>C</i>: Because that way, users of the class cannot mess with the data.<br>
<i>D</i>: Because you can change a method's implementation that way.<br>
<i>E</i>: Because it is more efficient from a performance standpoint.<br>
</td>
</table></center><p>
<p>
<b>Question #5</b>: Suppose I say: <b>i = 14; printf("%02x\n");</b>.  What will be the output?

<p><center><table border=0>
<td valign=top width=100>
<font size=-1>
<i>A</i>: <b>14</b><br>
<i>B</i>: <b>0014</b><br>
<i>C</i>: <b>0x14</b><br>
<i>D</i>: <b>0x0014</b></td>
<td valign=top width=100>
<font size=-1>
<i>E</i>: <b>16</b><br>
<i>F</i>: <b>0016</b><br>
<i>G</i>: <b>0x16</b><br>
<i>H</i>: <b>0x0016</b></td>
<td valign=top width=100>
<font size=-1>
<i>I</i>: <b>d</b><br>
<i>J</i>: <b>0d</b><br>
<i>K</i>: <b>00d</b><br>
<i>L</i>: <b>0xd</b><br>
<i>M</i>: <b>0x0d</b><br>
<i>N</i>: <b>0x00d</b></td>
<td valign=top width=100>
<font size=-1>
<i>O</i>: <b>e</b><br>
<i>P</i>: <b>0e</b><br>
<i>Q</i>: <b>00e</b><br>
<i>R</i>: <b>0xe</b><br>
<i>S</i>: <b>0x0e</b><br>
<i>T</i>: <b>0x00e</b></td>
<td valign=top width=100>
<font size=-1>
<i>U</i>: <b>f</b><br>
<i>V</i>: <b>0f</b><br>
<i>W</i>: <b>00f</b><br>
<i>X</i>: <b>0xf</b><br>
<i>Y</i>: <b>0x0f</b><br>
<i>Z</i>: <b>0x00f</b></td>
</table></center><p>

<p>
<b>Question #6</b>: Which of the following prints the string <i>s</i>'s value only if it
is an integer?

<p><center><table border=0>
<td valign=top width=330><font size=-1>
<i>A</i>: <b>oss.clear(); oss.str(s); if (!(oss >> i)) cout &lt;&lt; i &lt;&lt endl;</b><br>
<i>B</i>: <b>if (!(s >> i)) cout &lt;&lt; i &lt;&lt endl;</b><br>
<i>C</i>: <b>i = atoi(s.c_str()); if (i != 0) cout &lt;&lt i &lt;&lt endl;</b><br>
<i>D</i>: <b>iss.clear(); iss.str(s); if (iss >> i) cout &lt;&lt; i &lt;&lt endl;</b><br>
<i>E</i>: <b>oss.clear(); oss.str(s); if (oss >> i) cout &lt;&lt; i &lt;&lt endl;</b><br>
</td><td valign=top width=330><font size=-1>
<i>F</i>: <b>iss.clear(); iss.str(s); if (!(iss >> i)) cout &lt;&lt; i &lt;&lt endl;</b><br>
<i>G</i>: <b>if (!(i = s.int())) cout &lt;&lt; i &lt;&lt endl;</b><br>
<i>H</i>: <b>if (s >> i) cout &lt;&lt; i &lt;&lt endl;</b><br>
<i>I</i>: <b>if (i = s.int()) cout &lt;&lt; i &lt;&lt endl;</b><br>
<i>J</i>: <b>i = atoi(s); if (i != 0) cout &lt;&lt i &lt;&lt endl;</b><br>
</td></table></center><p>

<p>
<b>Question #7</b>: What is the proper way to declare a variable <b>dv</b> that is a vector of vector of doubles?

<p><center><table border=0><td><font size=-1>
<i>A</i>: <b>vector &lt;double&gt; dv();</b><br>
<i>B</i>: <b>double **dv;</b><br>
<i>C</i>: <b>vector &lt;vector &lt;double&gt;&gt; dv;</b><br>
<i>D</i>: Before any code: <b>typedef vector &lt;double&gt; DVec;</b> Then: <b>dv = vector &lt;DVec&gt;;</b><br>
<i>E</i>: Before any code: <b>typedef vector &lt;double&gt; DVec;</b> Then: <b>vector &lt;DVec&gt; dv;</b><br>
<i>F</i>: <b>vector &lt;double&gt; dv(10);</b><br>
<i>G</i>: <b>vector &lt;double&gt; dv[];</b><br>
</td></table></center><p>
<p>

<b>Question #8</b>: What is the output of the following program?

<p><center><table border=3 cellpadding=3><td><font size=-1><pre>
main()
{
  vector &lt;int&gt; v;
  int i;

  v.resize(5, 5);
  v.push_back(1);
  v.resize(10, 10);
  v.resize(8);
  v.resize(10, 11);
  for (i = 0; i &lt; v.size(); i++) printf("%d ", v[i]);
  printf("\n");
}
</pre></td></table></center><p>

<p><center><table border=0>
<td valign=top width=300><font size=-1>
<i>A</i>: <tt>1 2 3 4 5 1 10 10 11 11</tt><br>
<i>B</i>: <tt>11 11 11 11 11 11 11 11 11 11</tt><br>
<i>C</i>: <tt>10 10 10 10 10 10 10 10 11 11</tt><br>
<i>D</i>: <tt>5 5 5 5 5 1 10 10 11 11</tt><br>
<i>E</i>: <tt>1 2 3 4 5 6 7 8 9</tt><br>
<i>F</i>: <tt>5 5 5 5 5 10 10 10 10 10</tt><br>
</td> <td valign=top> <font size=-1>
<i>G</i>: <tt>5 5 5 5 5 10 10 10 11 11 11 11 11 11 11 11 11 11</tt><br>
<i>H</i>: <tt>5 5 5 5 5 10 10 10 11 11</tt><br>
<i>I</i>: <tt>5 5 5 5 5 10 10 10 10 10 10 10 10 10 10</tt><br>
<i>J</i>: <tt>5 5 5 5 5 1 10 10 11 11 11 11 11 11 11 11 11 11</tt><br>
<i>K</i>: <tt>5 5 5 5 5 1 10 10 10 10 10 10 10 10 10 10</tt><br>
<i>L</i>: <tt>10 10 10 10 10 10 10 10 10 10</tt><br>
</td>
</table></center><p>

<b>Question #9</b>: I want to print <b>s</b> and <b>i</b> so that that <b>s</b>
is left-justified and padded to 30 characters, then there is a space, and 
then <b>i</b> is right-justified and padded to 5 characters:

<p><center><table border=0>
<td valign=center width=300><font size=-1>
<i>A</i>: <b>printf("%-30s %-05d\n", s, i)</b><br>
<i>B</i>: <b>printf("%-30s %-05d\n", s.c_str(), i)</b><br>
<i>C</i>: <b>printf("%-30s %-5d\n", s, i)</b><br>
<i>D</i>: <b>printf("%-30s %-5d\n", s.c_str(), i)</b><br>
<i>E</i>: <b>printf("%-30s %05d\n", s, i)</b><br>
<i>F</i>: <b>printf("%-30s %05d\n", s.c_str(), i)</b><br>
<i>G</i>: <b>printf("%-30s %5d\n", s, i)</b><br>
<i>H</i>: <b>printf("%-30s %5d\n", s.c_str(), i)</b><br>
</td><td valign=center width=300><font size=-1>
<i>I</i>: <b>printf("%30s %-05d\n", s, i)</b><br>
<i>J</i>: <b>printf("%30s %-05d\n", s.c_str(), i)</b><br>
<i>K</i>: <b>printf("%30s %-5d\n", s, i)</b><br>
<i>L</i>: <b>printf("%30s %-5d\n", s.c_str(), i)</b><br>
<i>M</i>: <b>printf("%30s %05d\n", s, i)</b><br>
<i>N</i>: <b>printf("%30s %05d\n", s.c_str(), i)</b><br>
<i>O</i>: <b>printf("%30s %5d\n", s, i)</b><br>
<i>P</i>: <b>printf("%30s %5d\n", s.c_str(), i)</b><br>
</td>
</table></center><p>

<table><td valign=top width=300><font size=-1>
<b>Question #10</b>: The program <b>q10.cpp</b> is to the right.
What is the output of this program when it is run as follows:

<pre>
UNIX> <font color=black><b>q10 ABC </b></font>
</pre>

</td>
<td width=50></td>
<td valign=top>
<table border=3 cellpadding=3><td><font size=-1><pre>
main(int argc, char **argv)
{
  char *cs;
  string s1, s2;

  cs = argv[1];
  s1 = argv[1];
  s2 = s1;

  cs[0] = 'X';
  s1[1] = 'Y';
  s2.push_back('Z');

  cout &lt;&lt; argv[1] &lt;&lt; endl;
  cout &lt;&lt; cs &lt;&lt; endl;
  cout &lt;&lt; s1 &lt;&lt; endl;
  cout &lt;&lt; s2 &lt;&lt; endl;
}
</pre></td></table>
</td></table>


<pre>




</pre>
<table>
<td valign=top>
<p><center><table border=3 cellpadding=3><td><font size=-1><pre>
#include &lt;vector&gt;
#include &lt;iostream&gt;
using namespace std;

string a(string s)
{
  s[0] += 2;
  s.push_back(s[0]);
  return s;
}

main(int argc, char **argv)
{
  vector &lt;string&gt; v;
  int i;

  v.push_back("A");
  for (i = 0; i &lt; 4; i++) v.push_back(a(v[i]));
  for (i = 0; i &lt; v.size(); i++) cout &lt;&lt; v[i] &lt;&lt; endl;
}
</pre></td></table></center><p>
</td>
<td width=50></td>
<td valign=top width=200><font size=-1>
<b>Question #11</b>: What is the output of the program to
the left.
<p>
<b>Question #12</b>: Suppose I turn the parameter declaration
of <b>a()</b> to "<b>string &amp;s</b>."  
Now what is the output of the program?

</td>
</table>

<p>

<b>Question #13</b>: 

Write a procedure <b>i_like_tea()</b>.  This procedure should take a string
as an argument, and returns a vector of integers.  This vector should contain
the indices of the words in the string that contain the letter 't', upper case
or lower case.  For example, if the input string is "Thor gets his thunder", 
it should return the vector { 0, 1, 3 }.  Your procedure should use stringstreams,
and the string method <b>find()</b>.  Don't bother with include statements or <b>using namespace std</b>.
