<font size=-1>
<center>
<h3>2013 CS140 Midterm Exam - Answer All Questions</h3>
</center>
<hr>
<h3>Question 1 - Hashing</h3>

<table><td valign=top><font size=-1>
You have a hash table with 100 entries. Keys are strings, 
and you are using the <b>djbhash</b> hash function
from lecture.  You can see the result of <b>djbhash</b> on three strings to the right.
I am giving you three scenarios below.  For each scenario, tell me where the piece
of data will go in the hash table when 
collisions are resolved with separate chaining, linear probing and quadratic probing.
Use the answer sheet.
</td>
<td valign=top><table border=3><td><font size=-1>
<pre>
UNIX> <font color=black><b>echo Chloe Arpa | djbhash</b></font>
2437388788
UNIX> <font color=black><b>echo Gabriel Isis | djbhash</b></font>
600618099
UNIX> <font color=black><b>echo Austin Labyrinth | djbhash</b></font>
2735462150
UNIX> <font color=black><b></b></font>
</pre></td></table>
</td></table>


<UL>
<LI> <b>Scenario #1:</b> The only empty entries in the hash table are 15, 66 and 89, 
and you insert the key "Chloe Arpa."
<LI> <b>Scenario #2:</b> The only empty entries in the hash table are 2, 4, 6, 8 and 98, 
and you insert the key "Gabriel Isis."
<LI> <b>Scenario #3:</b> The only empty entries in the hash table are 13, 33, 63 and 83.
and you insert the key "Austin Labyrinth."
</UL>
</table>

<hr>
<table><td valign=top width=500><font size=-1>
<h3>Question 2 - Vector / Deque / List</h3>
</td><td valign=top>
<table border=3 cellpadding=3><td><font size=-1><pre>
void X(vector &lt;double&gt; &a);
</pre></td></table></td></table>

<b>Part A:</b> Suppose I have a procedure <b>X()</b> with the prototype above.
Implement that procedure in such a way that its performance will be very bad when <b>a</b>
is a vector, but very good when <b>a</b> is a deque.  I don't care what <b>X()</b> does, 
except it has to perform poorly when <b>a</b> is a vector and well when <b>a</b> is a deque.
Explain to me why it is better with the deque.  Please remember that you cannot call
<b>push_front()</b> or <b>pop_front()</b> on a vector -- in your procedure, use methods
that are common to both vectors and deques, such as <b>push_back()</b>, <b>pop_back()</b>, 
<b>insert()</b> or <b>erase()</b>.  There are prototypes at the end of this page.
<p>
<b>Part B:</b> Explain to me in what situation you would use a list in preference to a vector or a 
deque.  Be precise, and explain why.

<hr>

<table><td valign=top><font size=-1>
<h3>Question 3 - Hexadecimal</h3>

What are the following values in hexadecimal?
</td><td valign=top width=200><font size=-1>
<UL> 
<LI> <b>A</b>: 47
<LI> <b>B</b>: Binary 1010101001
</UL>
</td>
</td><td valign=top width=150><font size=-1>
<UL>
<LI> <b>C</b>: 6*256 + 10
<LI> <b>D</b>: (0xcb &lt;&lt; 1)
</UL>
</td></table>

<hr>
<table><td valign=top><font size=-1>
<h3>Question 4 - Stringstreams and Printf</h3>

The program to the right is in the file <b>sid.cpp</b>.  
Below are some Unix commands that will compile the program and 
run it on an input file.  Tell me the output of the last
Unix command.  Do this on the answer sheet, where I have gray
boxes that you can use, where each box is a space on the terminal.
<p>
<pre>
UNIX> <font color=black><b>g++ sid.cpp</b></font>
UNIX> <font color=black><b>cat input.txt</b></font>
3.567 14.2
-5 Fred
  Dontonio
20.
17.4321
5000.01
UNIX> <font color=black><b>./a.out < input.txt 10 Mario</b></font>
</pre>
<p>
<hr>
<table border=3 cellpadding=5>
<td><font size=-1><h3>Prototypes of Vector/Deque Methods</h3>
void <b>push_back</b>(double val);<br>
void <b>pop_back</b>();<br>
iterator <b>insert</b>(iterator pos, double value);<br>
void <b>erase</b>(iterator pos);<br>
</td></table>

</td><td valign=top width=20>
</td><td valign=top>
<table border=3 cellpadding=3><td><font size=-1><pre>
#include &lt;iostream&gt;
#include &lt;sstream&gt;
#include &lt;string&gt;
using namespace std;

main()
{
  string s;
  istringstream ss;
  int i;
  double d;

  while (cin &gt;&gt; s) {
    ss.clear();
    ss.str(s);
    if (ss &gt;&gt; d) {
      if (s.find('.') != string::npos) {
        printf("%-10s %7.3lf\n", s.c_str(), d);
      } else {
        i = d;
        printf("%-10s %7d\n", s.c_str(), i);
      }
    } else cout &lt;&lt; s &lt;&lt; endl;
  }
}
</pre></td></table>
</td></table>
