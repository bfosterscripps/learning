<title> CS140 -- Midterm Exam: Extra stuff</title>

<body bgcolor=FFDCCC>
<h1> CS140 -- Midterm Exam: Extra stuff</h1>

<hr>
<h3>fields.h</h3>

<pre>
#define MAXLEN 1001
#define MAXFIELDS 1000

typedef struct inputstruct {
  char *name;               /* File name */
  FILE *f;                  /* File descriptor */
  int line;                 /* Line number */
  char text1[MAXLEN];       /* The line */
  char text2[MAXLEN];       /* Working -- contains fields */
  int NF;                   /* Number of fields */
  char *fields[MAXFIELDS];  /* Pointers to fields */
  int file;                 /* 1 for file, 0 for popen */
} *IS;

extern IS new_inputstruct(/* FILENAME -- NULL for stdin */);
extern int get_line(/* IS */); /* returns NF, or -1 on EOF.  Does not
                                  close the file */
extern void jettison_inputstruct(/* IS */);  /* frees the IS and fcloses 
                                                the file */
</pre>

<hr>

<TABLE border=7 cellpadding=3>
<TR><TD valign=top>
<pre>
int strlen(char *s);
</pre>

<b>Strlen()</b> assumes that <b>s</b> is
a null-terminated string.  It returns the number of characters 
before the null character.  
</TD>

<TD valign=top>
<pre>
char *strcpy(char *s1, char *s2);
</pre>

<b>Strcpy()</b> assumes that <b>s2</b> is a null-terminated string,
and that <b>s1</b> is a <b>(char *)</b> with enough characters to
hold <b>s2</b>, including the null character at the end. <b>Strcpy()</b>
then copies <b>s2</b> to <b>s1</b>. It also returns <b>s1</b>.  
</TD>
</TR>

<TR><TD valign=top>
<pre>
char *strdup(char *s);
</pre>

<b>Strdup()</b> gives you a new copy of <b>s</b> that it has
<b>malloc()</b>'d for you.
</TD>

<TD valign=top>
<pre>
FILE *fopen(char *filename, char *mode);
</pre>

Lets you use stdio functions like <b>fprintf()</b> and <b>fscanf()</b> 
to write to and read from files.  <b>Mode</b> is "r" if you are opening
the file for reading, and "w" if you opening the file for writing.
</TD>
</TR></TABLE>
