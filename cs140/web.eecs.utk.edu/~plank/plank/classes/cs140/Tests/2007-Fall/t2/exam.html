<title> CS140 -- Final Exam</title>

<body bgcolor=FFFFFF>
<h2> CS140 -- Final Exam.  December 10, 2008</h3>
<h3>Please, write your answers on a separate sheet, not on the exam.</h3>
<h3>Remember your name, too...</h3>

<hr>
<h2>Question 1</h2>

Behold the following B-tree for <i>M = 5</i>.

<p><center><table border=3 cellpadding=3><td>
<IMG src="B-Tree.jpg">
</td></table></center><p>

<UL>
<LI> <b>Part 1</b>: Draw the B-tree that results when you insert the value 6 into the tree.
<LI> <b>Part 2</b>: Explain why a B-tree would have different values of <i>M</i> for internal
and external nodes of the tree.
</UL>

<hr>
<table>
<td valign=top>
<h2>Question 2</h2>

You are given the hash table on the right.

<UL>
<LI> <b>Part 1</b>: Suppose you are using 
Linear Probing.  Draw the hash table that results
when you insert the keys "Teachers" and "Critics", which 
have hash values of 47 and 170 respectively.
<p>
<LI> <b>Part 2</b>: Use the hash table on the
right to demonstrate why quadratic probing can 
be a disastrous collision resolution technique
if you don't select your parameters properly.
Use a detailed example, and then tell me how you 
would change things to make quadratic probing
work.
<p>
<LI> <b>Extra Credit</b>: Who wrote the song?
</UL>
</td>
<td valign=top>
<IMG src="Hashing.jpg" height=320>
</td></table>
<hr>
<h2>Question 3</h2>
Let <i>f(x) = 2x</i>, <i>g(x) = 100x</i>,  <i>h(x) = </i>|<i>x - 3</i>|<i></i>, and <i>j(x) = -</i>|<i>x - 3</i>|<i></i>.  
Which of
the following are true (answer all that are true, not just one):
<p>
<center>
<table>
<tr><td>A: <i>f(x) = O(g(x))</i></td> <td width=50</td>
<td>D: <i>g(x) = O(f(x))</i></td> <td width=50</td>
<td>G: <i>h(x) = O(f(x))</i></td><td width=50</td>
<td>J: <i>j(x) = O(f(x))</i></td></tr>

<tr><td>B: <i>f(x) = O(h(x))</i></td> <td width=50</td>
<td>E: <i>g(x) = O(h(x))</i></td> <td width=50</td>
<td>H: <i>h(x) = O(g(x))</i></td><td width=50</td>
<td>K: <i>j(x) = O(g(x))</i></td></tr>

<tr><td>C: <i>f(x) = O(j(x))</i></td> <td width=50</td>
<td>F: <i>g(x) = O(j(x))</i></td><td width=50</td>
<td>I: <i>h(x) = O(j(x))</i></td> <td width=50</td>
<td>L: <i>j(x) = O(h(x))</i></td></tr>
</table>
</center>
<hr>
<pre>









</pre>
<h2>Question 4</h2>
Given the following splay tree:
<p><center><table border=3 cellpadding=3><td>
<IMG src="Splay-Base.jpg" width=260>
</td></table></center><p>
Which of the following is the tree that results when <b>D</b> is inserted into
the splay tree:
<center>
<table border=3>
<tr>
<td valign=bottom align=center><IMG src="Splay-0540.jpg" width=200><br><b>A</b></td>
<td valign=bottom align=center><IMG src="Splay-1637.jpg" width=200><br><b>B</b></td>
<td valign=bottom align=center><IMG src="Splay-2194.jpg" width=200><br><b>C</b></td>   </tr><tr>
<td valign=bottom align=center><IMG src="Splay-2287.jpg" width=200><br><b>D</b></td>
<td valign=bottom align=center><IMG src="Splay-2306.jpg" width=200><br><b>E</b></td>
<td valign=bottom align=center><IMG src="Splay-3580.jpg" width=200><br><b>F</b></td>   </tr><tr>
<td valign=bottom align=center><IMG src="Splay-4273.jpg" width=200><br><b>G</b></td>
<td valign=bottom align=center><IMG src="Splay-5027.jpg" width=200><br><b>H</b></td>
<td valign=bottom align=center><IMG src="Splay-6003.jpg" width=200><br><b>I</b></td></tr>
</table>
</center>
<hr>
<p>
<pre>










</pre>
<h2>Question 5</h2>
Given the following splay tree:
<p><center><table border=3 cellpadding=3><td>
<IMG src="Second-Base.jpg" height=150>
</td></table></center><p>
Which of the following is the tree that results when <b>R</b> is inserted into
the splay tree:
<center>
<table border=3>
<tr>
<td valign=bottom align=center><IMG src="Second-1092.jpg" height=180><br><b>A</b></td>
<td valign=bottom align=center><IMG src="Second-3511.jpg" height=180><br><b>B</b></td>
<td valign=bottom align=center><IMG src="Second-5322.jpg" height=180><br><b>C</b></td>   </tr><tr>
<td valign=bottom align=center><IMG src="Second-5398.jpg" height=180><br><b>D</b></td>
<td valign=bottom align=center><IMG src="Second-5505.jpg" height=180><br><b>E</b></td>
<td valign=bottom align=center><IMG src="Second-6620.jpg" height=180><br><b>F</b></td>   </tr><tr>
<td valign=bottom align=center><IMG src="Second-7776.jpg" height=180><br><b>G</b></td>
<td valign=bottom align=center><IMG src="Second-8765.jpg" height=180><br><b>H</b></td>
<td valign=bottom align=center><IMG src="Second-9999.jpg" height=180><br><b>I</b></td></tr>
</table>
</center>
<hr>
<pre>








</pre>
<h2>Question 6</h2>
Given the following AVL tree:
<p><center><table border=3 cellpadding=3><td>
<IMG src="AVL-Base.jpg" height=150>
</td></table></center><p>
Which of the following is the tree that results when <b>G</b> is inserted into
the AVL tree:
<center>
<table border=3>
<tr>
<td valign=bottom align=center><IMG src="AVL-0645.jpg" height=160><br><b>A</b></td>
<td valign=bottom align=center><IMG src="AVL-1482.jpg" height=160><br><b>B</b></td>
<td valign=bottom align=center><IMG src="AVL-1875.jpg" height=160><br><b>C</b></td>   </tr><tr>
<td valign=bottom align=center><IMG src="AVL-3097.jpg" height=160><br><b>D</b></td>
<td valign=bottom align=center><IMG src="AVL-3116.jpg" height=160><br><b>E</b></td>
<td valign=bottom align=center><IMG src="AVL-6000.jpg" height=160><br><b>F</b></td>   </tr><tr>
<td valign=bottom align=center><IMG src="AVL-6052.jpg" height=160><br><b>G</b></td>
<td valign=bottom align=center><IMG src="AVL-7710.jpg" height=160><br><b>H</b></td>
<td valign=bottom align=center><IMG src="AVL-8822.jpg" height=160><br><b>I</b></td></tr>
</table>
</center>
<hr>
<pre>















</pre>
<h2>Question 7</h2>
Recall the header file for Disjoint Sets, below left.
<p><center><table border=3 cellpadding=3><td valign=top><pre><font size=-1>
typedef struct {
  int *links;
  int *sizes;
  int *ranks;
  int maxindex;
  int nsets;
} DisjointSet;
  
extern DisjointSet *new_disjoint_set(int maxindex);
extern void free_disjoint_set(DisjointSet *dj);
extern void disjoint_makeset(DisjointSet *dj, int index);
extern int disjoint_union(DisjointSet *dj, int s1, int s2);
extern int disjoint_find(DisjointSet *dj, int index);
</pre></td><td><IMG src="UF.jpg"></td> </table></center><p>

Suppose we have a <b>DisjointSet</b> struct whose state is depicted above right, 
and we have a pointer to it in the variable <b>dj</b>.
Answer the following questions:
<UL>
<LI> <b>Part A:</b> is <b>disjoint_find(dj, 0)</b> equal to <b>disjoint_find(dj, 1)</b>?
<LI> <b>Part B:</b> is <b>disjoint_find(dj, 0)</b> equal to <b>disjoint_find(dj, 2)</b>?
<LI> <b>Part C:</b> is <b>disjoint_find(dj, 2)</b> equal to <b>disjoint_find(dj, 4)</b>?
<LI> <b>Part D:</b> Draw the state of the struct when 
<b>disjoint_union(dj, 4, 7)</b> is called.  Draw everything (<b>links, sizes, ranks, maxindex</b>
and <b>nsets</b>).  Assume "union by ranks" is used.
</UL>
<hr>
<h2>Question 8</h2>
Write a program that takes two command line arguments, <b>a</b> and <b>b</b>,
and prints out all strings that have <b>a</b> A's and <b>b</b> B's.
<hr>
<h2>Question 9</h2>
Suppose we have the following <b>typedef</b> for a tree node:

<p><center><table border=3 cellpadding=3><td><pre>
typedef struct node {
  char *key;
  int nchildren;
  struct node **children;
} Node;
</pre></td></table></center><p>

The variable <b>nchildren</b> is the number of children that a node has, and
<b>children</b> is an array of pointers to the children.  Write a procedure
<b>tree_size(Node *n)</b>, which returns the number of nodes in the tree 
rooted at node <b>n</b>.
